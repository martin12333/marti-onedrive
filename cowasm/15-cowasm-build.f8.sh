# (a file in the mm_f8_doc pseudo-format)
do-not run this file as a whole
)
exit

(selected lines from this file can be run in a terminal ... e.g. by the F8 key, customly bound to runSelectedText  )



echo '-------- section --------'

# i use  a container
podman machine start
podman start   -ai    cmy22b

echo '-------- section: install --------'

https://github.com/sagemathinc/cowasm/blob/main/Dockerfile

https://github.com/sagemathinc/cowasm#build-from-source



# once
sudo apt update
sudo apt-get install git make cmake curl dpkg-dev m4 yasm texinfo python-is-python3 libtool tcl zip libncurses-dev



cd
#mv -iv cowasm 10-cowasm
# once
git clone https://github.com/sagemathinc/cowasm



cd ~/cowasm
cd packages

ll
du -sk * |sort -nr



cd dash
cd bzip2
cd tar
cd termcap
make
cd -


cd ~/cowasm/
ll bin




echo '-------- section --------'

#Setting up automake (1:1.16.5-1.3) ...
#update-alternatives: using /usr/bin/automake-1.16 to provide /usr/bin/automake (automake) in auto mode
#update-alternatives: warning: skip creation of /usr/share/man/man1/automake.1.gz because associated file /usr/share/man/man1/automake-1.16.1.gz (of link group automake) doesn't exist'

echo '-------- section --------'



##export PATH=/python-wasm/bin/:$PATH
#export PATH="$HOME/cowasm/bin:$PATH"
echo $PATH
which dash-wasm

cd ~/cowasm/

#find . -name "*.wasm" -ls
find . -name "*wasm" -ls
find . -name "*-wasm"   -type f  -ls


cat ./packages/dash/bin/dash-wasm

cd
find . -cmin -6
find . -cmin -3

du -m






echo '-------- section: run --------'




cd ~/cowasm/
cd ~/10-cowasm/node_modules/dash-wasm
ll

#npx /usr/bin/zsh
#dash-wasm
## added later:
#cat package.json
#npx dash-wasm
# ctrl-d
#cat `which dash-wasm`

#./packages/dash/bin/dash-wasm
./bin/dash-wasm-raw
./bin/dash-wasm
ll bin


echo '-------- section: experiments --------'








echo '-------- sections copied from 10 --------'








dash-wasm


ls -la /cowasm/usr/*

help
exit

env
set

####sh --help
ll
rm -i core
y

echo '-------- section --------'



#dash --help
man dash
#####type

dash-wasm

history
echo $HOME
ls -a $HOME

echo '-------- section --------'

dash-wasm
cat  $HOME/.profile
###cat  $HOME/.profile
#####echo $PATH

echo '-------- section --------'

dash-wasm

echo $PATH
env
#set|grep -i hist


echo '-------- section --------'

# Object.cowasm_vforkexec (/home/vscode/cowasm/node_modules/dash-wasm/node_modules/@cowasm/kernel/dist/wasm/posix/fork-exec.js:224:28

echo '-------- section --------'
