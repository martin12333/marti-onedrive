

f8_document #
do-not run this file as a whole
)
exit

(selected lines from this file can be run in a terminal ... e.g. by the F8 key, customly bound to runSelectedText  )



echo '-------- section --------'








2022-12-21

i cannot get stdout from cowasm in a stackblitz-webcontainer

only working:
mkdir
touch












https://stackblitz.com/edit/node-fvjqji?file=index.js

npm i @cowasm/kernel
npm i @cowasm/coreutils

npm i @cowasm/dash


#cd ~/11085
npx kernel



❯ npx kernel

/home/projects/node-fvjqji/node_modules/@cowasm/kernel/bin/cowasm:1
export SCRIPTPATH="$( cd -- "$(dirname "`readlink -f $0`")" >/dev/null 2>&1 ; pwd -P )"
^^^^^^

SyntaxError: Unexpected token 'export'
    at Object.compileFunction (https://nodefvjqji-ytzr.w-corp.staticblitz.com/blitz.6ebe18b1e1db1833797e3e4eb6ff802c375ee61b.js:6:341449)


/bin/sh

export SCRIPTPATH="$( cd -- "$(dirname "`readlink -f $0`")" >/dev/null 2>&1 ; pwd -P )"

node "$SCRIPTPATH"/../dist/kernel/node-terminal.js "$@"















"P:\home\user\.local\share\containers\storage\volumes\nslash_home\_data\vscode\11085\node_modules\@cowasm\kernel\bin\cowasm"



ls node_modules

node_modules/@cowasm/kernel/bin/cowasm

node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js

node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/dash/dist/wasm/bin/dash -x


~/projects/node-fvjqji 6s
❯ node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/dash/dist/wasm/bin/dash -x
(cpu waiting for stdin: please define a way to sleep!)













"P:\home\user\.local\share\containers\storage\volumes\nslash_home\_data\vscode\11085\node_modules\@cowasm\coreutils\dist\wasm\bin\du"

node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/du





























❯ cat ~/.jsh_history
history
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/mkdir fda



node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/mkdir
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/ls


~/projects/node-fvjqji
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/ls >ls
/home/projects/node-fvjqji/node_modules/@cowasm/coreutils/dist/wasm/bin/ls: CompileError: WebAssembly.Module(): unknown section code #0x10 @+28

~/projects/node-fvjqji


node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/logname
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/env
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/date
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/cp date
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/cp dsa das
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/cat
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/cat adshajds
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/basename sd
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/dirname s
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/dirname
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/basename
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/ls
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/du
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/dash/dist/wasm/bin/dash -x
npm i @cowasm/dash
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/dash/dist/wasm/bin/dash -x
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js
sh node_modules/@cowasm/kernel/dist/kernel/node-terminal.js
node_modules/@cowasm/kernel/dist/kernel/node-terminal.js
node_modules/@cowasm/kernel/bin/cowasm
ls node_modules
/bin/sh
npx kernel
npm i @cowasm/coreutils
npm i @cowasm/kernel
~/projects/node-fvjqji
❯

~/projects/node-fvjqji
❯














~/projects/node-fvjqji
❯ cat ~/.jsh_history
history
echo  skjhf|node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/touch tou
echo  skjhf|node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/touch sfdsf
echo  skjhf|node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/tee skdf
echo  skjhf|node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/tee skdfj
echo  skjhf|node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/date

node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/date |cat

fails in edge, chrome


echo | n
fddfg
echo fdh |
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/date |cat
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/ls |cat
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/cp 1 2
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/date >1
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/env >env
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/logname >1
node node_modules/@cowasm/kernel/dist/kernel/node-terminal.js ./node_modules/@cowasm/coreutils/dist/wasm/bin/ls >ls
cat ~/.jsh_history
history




